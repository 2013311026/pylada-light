

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Compiling and installing &mdash; Pylada 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Pylada 1.0 documentation" href="../index.html" />
    <link rel="up" title="User Guide" href="../userguide.html" />
    <link rel="next" title="Setting up Pylada" href="configuration.html" />
    <link rel="prev" title="User Guide" href="../userguide.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="configuration.html" title="Setting up Pylada"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../userguide.html" title="User Guide"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Pylada 1.0 documentation</a> &raquo;</li>
          <li><a href="../userguide.html" accesskey="U">User Guide</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="compiling-and-installing">
<h1>Compiling and installing<a class="headerlink" href="#compiling-and-installing" title="Permalink to this headline">¶</a></h1>
<p>The source code for pylada can be obtained from <a class="reference external" href="https://github.com/pylada/pylada">github</a>.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><a class="reference external" href="http://www.cmake.org/">cmake</a>: software tool to configure and create the makefiles. Any
version 2.8 and larger should work. This program is often available on
supercomputers <em>via</em> <tt class="docutils literal"><span class="pre">module</span> <span class="pre">load</span> <span class="pre">cmake</span></tt>.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.boost.org">Boost</a>: A set of high-performance C++ libraries. Most of these
libraries contain only header files. Hence, they can be installed
rather easily. Pylada does not require any compiled boost.
PyLada uses the following header-only libraries: mpl,
enable if, type traits, preprocessor, bind, ref, static assert,
exceptions. Most Linux distributions will contain Boost in some rpm of
deb package. It is often not available on supercomputers and will need
to be installed there.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Pylada also uses <tt class="docutils literal"><span class="pre">boost.mpi</span></tt> in some of its default configuration
scripts. It is a python package which interface with the MPI
library.  It is not strictly required and other MPI package could
replace it in the relevant config files.</p>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://www.eigen.tuxfamily.org">Eigen</a>: An efficient C++ numerical library. This is a header-only
library which is fairly easy to install with CMake. Versions 2 and 3
are supported.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.python.org">Python</a>: programming language with which to interface with Pylada.
Should be between version 2.6.4 included and 3.0 excluded. <a class="reference external" href="http://www.python.org">Python</a> is
likely available by default on any unix system.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.numpy.org">Numpy</a>: a <a class="reference external" href="http://www.python.org">Python</a> package for numerical calculations. It is available
on all Linux distributions. It is often time available by default on
supercomputers. If not, it can be installed <em>via</em> <a class="reference external" href="http://pypi.python.org/pypi/setuptools">easy_install</a> or
<a class="reference external" href="http://pypi.python.org/pypi/pip">pip</a>.</p>
</li>
<li><p class="first"><a class="reference external" href="http://packages.python.org/quantities/index.html">quantities</a>: A <a class="reference external" href="http://www.python.org">Python</a> package which implements physical dimensions and
units, such as length, weight, etc. It works well with <a class="reference external" href="http://www.numpy.org">Numpy</a>. It is
unlikely to be installed by default on any system. It can be installed
easily with <a class="reference external" href="http://pypi.python.org/pypi/setuptools">easy_install</a> or <a class="reference external" href="http://pypi.python.org/pypi/pip">pip</a>.</p>
</li>
<li><p class="first"><a class="reference external" href="http://ipython.org/">IPython</a>: an interactive shell for <a class="reference external" href="http://www.python.org">Python</a>. It forms the basis of
Pylada&#8217;s user-interface. It must be version 0.13 or higher. It can be
installed in its simplest form without any of its optional
dependencies. This package will not likely to be found installed by
default. It can be installed easily with <a class="reference external" href="http://pypi.python.org/pypi/setuptools">easy_install</a> or <a class="reference external" href="http://pypi.python.org/pypi/pip">pip</a>.</p>
</li>
<li><p class="first"><a class="reference external" href="http://sphinx-doc.org">sphinx</a>: Only required to create the documentation. Can be installed
<em>via</em> <a class="reference external" href="http://pypi.python.org/pypi/setuptools">easy_install</a> or <a class="reference external" href="http://pypi.python.org/pypi/pip">pip</a>.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.cmake.org/">ctest</a>: Only required to run the test suite. It is distributed with
<a class="reference external" href="http://www.cmake.org/">cmake</a>.</p>
</li>
</ul>
</div>
<div class="section" id="recommended">
<h2>Recommended<a class="headerlink" href="#recommended" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://matplotlib.sourceforge.net/">matplotlib</a>: A <a class="reference external" href="http://www.python.org">Python</a> package to make nice plots. Not strictly
required, but it will enable users to plot Pylada generated results
easily. Can be installed <em>via</em> <a class="reference external" href="http://pypi.python.org/pypi/setuptools">easy_install</a> or <a class="reference external" href="http://pypi.python.org/pypi/pip">pip</a>. It is included in
all Linux distributions.</li>
</ul>
</div>
<div class="section" id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Permalink to this headline">¶</a></h2>
<div class="section" id="on-a-unix-machine">
<h3>On a unix machine<a class="headerlink" href="#on-a-unix-machine" title="Permalink to this headline">¶</a></h3>
<p>The following assumes the required packages listed above are installed.
It also assumes that the source code for Pylada has been extracted to some
directory.</p>
<p>The CMakeLists.txt file in the pylada root directory guides the build.  It contains mechanisms to search for several
required tools and packages (e.g. location of your c++ compiler).
Due to frequent failure of automatic library detection mechanisms, and/or your desire to customize the process
(e.g. install location), it is quite likely that some or all of the
following variables will need to be manually specified in a separate file, e.g. <cite>myCmake-env.txt</cite>:</p>
<blockquote>
<div><ul class="simple">
<li>CMAKE_INSTALL_PREFIX</li>
<li>CMAKE_CXX_COMPILER</li>
<li>CMAKE_C_COMPILER</li>
<li>CMAKE_Fortran_COMPILER</li>
<li>PYTHON_LIBRARY</li>
<li>EIGEN3_INCLUDE_DIR</li>
</ul>
</div></blockquote>
<p>The syntax for such specifications is illustrated by the following example:</p>
<div class="highlight-bash"><div class="highlight"><pre>SET<span class="o">(</span>CMAKE_INSTALL_PREFIX <span class="s2">&quot;/Users/pgraf/root/mylada&quot;</span> CACHE STRING <span class="s2">&quot;prefix&quot;</span><span class="o">)</span>
SET<span class="o">(</span>CMAKE_CXX_COMPILER <span class="s2">&quot;g++-mp-4.5&quot;</span>  CACHE STRING <span class="s2">&quot;c++&quot;</span><span class="o">)</span>
SET<span class="o">(</span>CMAKE_C_COMPILER <span class="s2">&quot;gcc-mp-4.5&quot;</span>  CACHE STRING <span class="s2">&quot;c&quot;</span><span class="o">)</span>
SET<span class="o">(</span>CMAKE_Fortran_COMPILER <span class="s2">&quot;gfortran-mp-4.5&quot;</span>  CACHE STRING <span class="s2">&quot;fortran&quot;</span><span class="o">)</span>
SET<span class="o">(</span>PYTHON_LIBRARY  <span class="s2">&quot;/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/libpython2.7.dylib&quot;</span>   CACHE STRING <span class="s2">&quot;pylib&quot;</span><span class="o">)</span>
SET<span class="o">(</span>EIGEN3_INCLUDE_DIR  <span class="s2">&quot;/Users/pgraf/opt/eigen3.1.2/&quot;</span>   CACHE STRING <span class="s2">&quot;eigen3&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>With such an auxilliary CMake file prepared (assuming it is <cite>myCmake-env.txt</cite> in the pylada root directory),
the following steps configure pylada for building:</p>
<div class="highlight-bash"><div class="highlight"><pre>&gt; <span class="nb">cd </span>directory/with/pylada/source
&gt; mkdir build
&gt; <span class="nb">cd </span>build
&gt; cmake -C ../myCmake-env.txt ../
</pre></div>
</div>
<p>After this configuration is done, it is time to build and install pylada:</p>
<div class="highlight-bash"><div class="highlight"><pre>&gt; make
&gt; make install
</pre></div>
</div>
<p>The last two lines should see you through the installation.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p><a class="reference external" href="http://www.cmake.org/">cmake</a> and <a class="reference external" href="http://www.python.org">Python</a> don&#8217;t always interact well. You may want to do the
following:</p>
<div class="highlight-bash"><div class="highlight"><pre>&gt; ccmake ..
</pre></div>
</div>
<p class="last">Then hit [t] for advanced options. Hit [/] followed by
[PYTHON_INCLUDE_DIR] to look.  This will bring you to
<tt class="docutils literal"><span class="pre">PYTHON_INCLUDE_DIR</span></tt>. You should make sure that it points to the
correct python version. Also check <tt class="docutils literal"><span class="pre">PYTHON_LIBRARY</span></tt>. <a class="reference external" href="http://www.cmake.org/">cmake</a> often
picks up different version of python on a system.</p>
</div>
</div>
<div class="section" id="checking-your-installation">
<h3>Checking your installation<a class="headerlink" href="#checking-your-installation" title="Permalink to this headline">¶</a></h3>
<p>Be sure to adjust your <tt class="docutils literal"><span class="pre">PYTHONPATH</span></tt> environment variable to include the location you installed pylada.
Then, in a python shell, try importing pylada:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pylada</span>
</pre></div>
</div>
<p>If you have an error, then python does not know how to find the directory
where Pylada was installed. Make sure that <a class="reference external" href="http://docs.python.org/2/tutorial/modules.html#the-module-search-path">python is is set up
correctly</a> to include this directory. In general, it is defined by
CMAKE_INSTALL_PREFIX and CMAKE_PYINSTALL_PREFIX.</p>
<p>Once the above works:</p>
<div class="highlight-bash"><div class="highlight"><pre>&gt; <span class="nb">cd </span>path/to/pylada/source
&gt; <span class="nb">cd </span>build
&gt; make <span class="nb">test</span>
</pre></div>
</div>
<p>This will run Pylada&#8217;s unit-tests.  It may take some time. Hopefully,
most tests will run. Note that some tests for <a class="reference external" href="http://www.vasp.at/">VASP</a> and such
will require that Pylada be configured first, e.g., told how to find the
relevant programs.</p>
<p>Beyond this base installation, there are additional steps required to get pylada working with <a class="reference external" href="http://www.vasp.at/">VASP</a>,
with your batch queueing system, and with IPython.  Please see <a class="reference internal" href="configuration.html#configuration-ug"><em>Setting up Pylada</em></a></p>
</div>
<div class="section" id="creating-the-documentation">
<h3>Creating the documentation<a class="headerlink" href="#creating-the-documentation" title="Permalink to this headline">¶</a></h3>
<p>This documentation is generated using <a class="reference external" href="http://sphinx-doc.org">sphinx</a>. Assuming that python can
find the Pylada installation, the documentation can be generated (from the above <cite>build</cite> directory) with:</p>
<div class="highlight-bash"><div class="highlight"><pre>&gt; make documentation
</pre></div>
</div>
<p>This will create a directory &#8220;build/sphinx&#8221; with an &#8220;index.html&#8221; file. View
it with your favorite browser and voilà!
In order for links to the pylada source code to be included in the documentation, the <tt class="docutils literal"><span class="pre">PYTHONPATH</span></tt>
must point to the installed pylada source.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Virtualenv users will want to do <tt class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">sphinx</span></tt> to make sure
that sphinx is started using the virtualenv python.</p>
</div>
</div>
<div class="section" id="compatibility">
<h3>Compatibility<a class="headerlink" href="#compatibility" title="Permalink to this headline">¶</a></h3>
<p>Unices with gnu compiler, intel compiler, but not Portland compiler (eigen
does not compile). Known to work on Mac OS/X.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Compiling and installing</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#recommended">Recommended</a></li>
<li><a class="reference internal" href="#procedure">Procedure</a><ul>
<li><a class="reference internal" href="#on-a-unix-machine">On a unix machine</a></li>
<li><a class="reference internal" href="#checking-your-installation">Checking your installation</a></li>
<li><a class="reference internal" href="#creating-the-documentation">Creating the documentation</a></li>
<li><a class="reference internal" href="#compatibility">Compatibility</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../userguide.html"
                        title="previous chapter">User Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="configuration.html"
                        title="next chapter">Setting up Pylada</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/userguide/compile.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="configuration.html" title="Setting up Pylada"
             >next</a> |</li>
        <li class="right" >
          <a href="../userguide.html" title="User Guide"
             >previous</a> |</li>
        <li><a href="../index.html">Pylada 1.0 documentation</a> &raquo;</li>
          <li><a href="../userguide.html" >User Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Mayeul d&#39;Avezac.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>